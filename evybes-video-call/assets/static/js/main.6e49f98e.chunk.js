(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{212:function(e,t,n){"use strict";n.r(t);var c=n(7),o=n.n(c),r=n(84),a=n.n(r),i=(n(91),n(17)),s=(n(92),n(28)),u=n.n(s),j=n(85),l=n(86),b=n.n(l),d=n(1);function h(e){var t=e.setToken,n=e.setName,c=e.setRoom,o=e.name,r=e.room;function a(){return(a=Object(j.a)(u.a.mark((function e(n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b.a.post("https://evybes-video-call-5486-dev.twil.io/video-token",{identity:o,room:r});case 3:c=e.sent,console.log("result token: ",c.data),t(c.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("form",{onSubmit:function(e){return a.apply(this,arguments)},children:[Object(d.jsxs)("label",{htmlFor:"name",children:["Name",Object(d.jsx)("input",{type:"text",id:"name",value:o,onChange:function(e){return n(e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("label",{htmlFor:"name",children:["Room",Object(d.jsx)("input",{type:"text",id:"room",value:r,onChange:function(e){return c(e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",children:"Submit"})]})}var f=n(29),m=n.n(f);function p(e){var t=e.token,n=e.room,o=Object(c.useRef)(),r=Object(c.useRef)();return Object(c.useEffect)((function(){m.a.connect(t,{video:!0,audio:!0,name:n}).then((function(e){function t(e){console.log("New Participant"),e.tracks.forEach((function(e){if(e.subsribe){var t=e.track;r.current.appendChild(t.attach())}}))}m.a.createLocalVideoTrack().then((function(e){o.current.appendChild(e.attach())})),e.participants.forEach(t),e.on("participantConnected",t)})).catch((function(e){return console.log("Error Messge: ",e)}))}),[t,n]),Object(d.jsxs)("div",{style:{textAlign:"center",alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(d.jsx)("div",{children:Object(d.jsxs)("h3",{children:["You are inside the room name: ",n]})}),Object(d.jsx)("div",{ref:o}),Object(d.jsx)("div",{ref:r})]})}var O=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)("room"),a=Object(i.a)(r,2),s=a[0],u=a[1],j=Object(c.useState)(),l=Object(i.a)(j,2),b=l[0],f=l[1];return Object(d.jsx)("div",{className:"App",children:b?Object(d.jsx)(p,{token:b,room:s}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Hello Vide Chat App"}),"Show From",Object(d.jsx)(h,{setToken:f,setName:o,setRoom:u,name:n,room:s})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),x()},91:function(e,t,n){},92:function(e,t,n){}},[[212,1,2]]]);
//# sourceMappingURL=main.6e49f98e.chunk.js.map